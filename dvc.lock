schema: '2.0'
stages:
  data_download:
    cmd: python src/stages/stage_0_data_download.py --config=params.yaml
    deps:
    - path: params.yaml
      hash: md5
      md5: c222d0954eac2b0c4df3ecb6ec0915ad
      size: 1322
      isexec: true
    - path: src/stages/stage_0_data_download.py
      hash: md5
      md5: 744d5f67337f60dc3d8c0d3ccc7d5d53
      size: 575
    params:
      params.yaml:
        paths.dataset_path: dataset/image-classification-and-yolo-dataset/Ambulance_Car
        paths.dataset_url: 
          https://www.kaggle.com/datasets/amansingh0000000/image-classification-and-yolo-dataset/data
        paths.raw_dataset_dir: dataset/raw
    outs:
    - path: dataset/raw
      hash: md5
      md5: 92c0ed906ef663cbeba0e8268a25ae97.dir
      size: 368454056
      nfiles: 2276
  data_preprocess_augmentation:
    cmd: python src/stages/stage_1_data_preprocess_augmentation.py --config=params.yaml
    deps:
    - path: params.yaml
      hash: md5
      md5: c222d0954eac2b0c4df3ecb6ec0915ad
      size: 1322
      isexec: true
    - path: src/stages/stage_1_data_preprocess_augmentation.py
      hash: md5
      md5: 7e6fe1ffa4b25c38e21659bdd210675c
      size: 5502
    params:
      params.yaml:
        paths.labels_dir: dataset/raw/image-classification-and-yolo-dataset/Ambulance_Car/Label
        paths.preprocess_dataset: dataset/preprocess
        paths.train_dir: dataset/raw/image-classification-and-yolo-dataset/Ambulance_Car/Train
    outs:
    - path: dataset/preprocess/test
      hash: md5
      md5: d35c4e83d43156eb52fdfc0fba15e41b.dir
      size: 54160428
      nfiles: 557
    - path: dataset/preprocess/train
      hash: md5
      md5: c4e017b48cb5519da9faac99ff6c72d8.dir
      size: 213306856
      nfiles: 2227
  train:
    cmd: python src/stages/stage_2_train.py --config=params.yaml
    deps:
    - path: params.yaml
      hash: md5
      md5: c222d0954eac2b0c4df3ecb6ec0915ad
      size: 1322
      isexec: true
    - path: src/stages/stage_2_train.py
      hash: md5
      md5: 98e6b9f7317ab6d62a90f18a2ff87d1d
      size: 1435
    params:
      params.yaml:
        paths.preprocessed_train: 
          /workspaces/car_vs_ambulance_classification_ensemble_cnn/dataset/preprocess/train
        paths.preprocessed_val: /workspaces/car_vs_ambulance_classification_ensemble_cnn/dataset/preprocess/test
        paths.trained_model_path: models
    outs:
    - path: models/lenet.keras
      hash: md5
      md5: aa58eee8c158bdcc131dfe7fafc0936c
      size: 313748263
    - path: models/mini_vgg_net.keras
      hash: md5
      md5: a5bf90965e7b358ab729313e3ed6b987
      size: 1234026525
    - path: models/shallownet.keras
      hash: md5
      md5: 1df4dd07a04f0b9f40eb65787ea25bce
      size: 6444044
    - path: models/tuned_hyperparams.json
      hash: md5
      md5: addffaecdd8d1db345d3ef2a40cb58ad
      size: 228

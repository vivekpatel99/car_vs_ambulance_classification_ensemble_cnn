schema: '2.0'
stages:
  data_download:
    cmd: python src/stages/stage_0_data_download.py --config=params.yaml
    deps:
    - path: params.yaml
      hash: md5
      md5: d5fa3b2bc8a71e0f967d59e566a30d9c
      size: 1336
      isexec: true
    - path: src/stages/stage_0_data_download.py
      hash: md5
      md5: 744d5f67337f60dc3d8c0d3ccc7d5d53
      size: 575
    params:
      params.yaml:
        paths.dataset_path: dataset/image-classification-and-yolo-dataset/Ambulance_Car
        paths.dataset_url: 
          https://www.kaggle.com/datasets/amansingh0000000/image-classification-and-yolo-dataset/data
        paths.raw_dataset_dir: dataset/raw
    outs:
    - path: dataset/raw
      hash: md5
      md5: 92c0ed906ef663cbeba0e8268a25ae97.dir
      size: 368454056
      nfiles: 2276
  data_preprocess_augmentation:
    cmd: python src/stages/stage_1_data_preprocess_augmentation.py --config=params.yaml
    deps:
    - path: src/stages/stage_1_data_preprocess_augmentation.py
      hash: md5
      md5: 2de7e45e2e26a75bcfc0613d67789ebe
      size: 5543
    params:
      params.yaml:
        paths.labels_dir: dataset/raw/image-classification-and-yolo-dataset/Ambulance_Car/Label
        paths.preprocess_dataset: dataset/preprocess
        paths.train_dir: dataset/raw/image-classification-and-yolo-dataset/Ambulance_Car/Train
    outs:
    - path: dataset/preprocess/test
      hash: md5
      md5: d35c4e83d43156eb52fdfc0fba15e41b.dir
      size: 54160428
      nfiles: 557
    - path: dataset/preprocess/train
      hash: md5
      md5: c4e017b48cb5519da9faac99ff6c72d8.dir
      size: 213306856
      nfiles: 2227
  train:
    cmd: python src/stages/stage_2_train.py --config=params.yaml
    deps:
    - path: src/stages/stage_2_train.py
      hash: md5
      md5: e8f351be4d5644116fe66a97ff591178
      size: 1453
    params:
      params.yaml:
        paths.preprocessed_train: 
          /workspaces/car_vs_ambulance_classification_ensemble_cnn/dataset/preprocess/train
        paths.preprocessed_val: /workspaces/car_vs_ambulance_classification_ensemble_cnn/dataset/preprocess/test
        paths.trained_model_path: models
    outs:
    - path: models/lenet.keras
      hash: md5
      md5: 44a51cff35e9a6cc9787a0b8cff92410
      size: 313748263
    - path: models/mini_vgg_net.keras
      hash: md5
      md5: 11c4a0cbc9cf1317af34bfdc89868106
      size: 1234026526
    - path: models/shallownet.keras
      hash: md5
      md5: 4ecc7e844aa3b8dd6f11a63c2188a3f7
      size: 6444044
    - path: models/tuned_hyperparams.json
      hash: md5
      md5: 5977bc91b06c14b29df5600f82cf68d6
      size: 224
  evaluate:
    cmd: python src/stages/stage_3_evaluate.py --config=params.yaml
    deps:
    - path: src/stages/stage_3_evaluate.py
      hash: md5
      md5: a2df281bd9a573d0bb63d664efd31eab
      size: 3649
    params:
      params.yaml:
        evaluate.reports_dir: src/reports
        paths.trained_model_path: models
    outs:
    - path: src/reports/results
      hash: md5
      md5: 6ff3524228a1a0c7f717fa038299f292.dir
      size: 54078
      nfiles: 6
